clear all;
clc;

% l1 = 30;
% l2 = 15;
% d1 = 40;
% d3 = 10;

syms o1 o2 d4 o4   l1 l2 d1 d3

% o1 = deg2rad(45);
% o2 = deg2rad(45);
% d4 = -30;
% o4 = 0;

T01 = [cos(o1) -sin(o1) 0 l1*cos(o1);
       sin(o1)  cos(o1) 0 l1*sin(o1);
       0        0       1 d1;
       0        0       0 1];
   
T12 = [cos(o2)  sin(o2)  0 l2*cos(o2);
       sin(o2) -cos(o2)  0 l2*sin(o2);
       0        0       -1 0;
       0        0        0 1];   
      
T23 = [1 0 0 0;
       0 1 0 0;
       0 0 1 d3;
       0 0 0 1];
   
T34 = [cos(o4) -sin(o4) 0 0;
       sin(o4)  cos(o4) 0 0;
       0        0       1 d4;
       0        0       0 1];
   

T02 = T01*T12;
T03 = T01*T12*T23;
T04 = T01*T12*T23*T34;   

% p1 = [T01(1,4) T01(2,4) T01(3,4)];
% p2 = [T02(1,4) T02(2,4) T02(3,4)];
% p3 = [T03(1,4) T03(2,4) T03(3,4)];
% p4 = [T04(1,4) T04(2,4) T04(3,4)];

% x = [p1(1) p1(1) p3(1) p4(1)];
% y = [p1(2) p1(2) p3(2) p4(2)];
% z = [p1(3) p1(3) p3(3) p4(3)];

% plot3(x,y,z,'.')
% grid on